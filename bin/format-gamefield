#!/usr/bin/env python

import sys

lines = sys.stdin.read().splitlines()
bytes = []

for line in lines:
    # >C:6300  ff ff ff ff  ff ff ff ff  ff ff ff ff  00 00 00 00   ������������@@@@

    line = line[9:60].split()
    for byte in line:
        bytes.append(byte)
bytes.append("")

BORDER = "+"

rows = []
row = []
border_length = 0
for i, byte in enumerate(bytes):
    if byte == "20":
        byte = "X"
    elif byte == "ff":
        byte = "+" 
    else:
        byte = byte[1:]

    if byte == BORDER:
        border_length += 1
    else:
        if border_length > 1:
            if not rows:
                # Top border
                for _ in range(border_length - 1):
                    row.append(BORDER)
                rows.append(row)
                row = [BORDER]
            else:
                # Bottom border
                rows.append(row)
                row = []
                for _ in range(border_length):
                    row.append(BORDER)
                rows.append(row)
                break
        elif border_length == 1:
            rows.append(row)
            row = [BORDER]
        row.append(byte)
        border_length = 0

if len(row) < 3:
    sys.exit()

row_length = max(len(row) for row in rows[:-1])
for row in rows:
    if len(row) < row_length:
        print(" ", end="")
    for byte in row:
        print(byte + " ", end="")
    print()
