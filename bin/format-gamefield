#!/usr/bin/env python

#  Copyright (C) Dieter Baron
#
#  This file is part of Mine Sweeper.
#  The authors can be contacted at <mine-sweeper@tpau.group>.
#
#  Redistribution and use in source and binary forms, with or without
#  modification, are permitted provided that the following conditions
#  are met:
#  1. Redistributions of source code must retain the above copyright
#     notice, this list of conditions and the following disclaimer.
#  2. The names of the authors may not be used to endorse or promote
#     products derived from this software without specific prior
#     written permission.
#
#  THIS SOFTWARE IS PROVIDED BY THE AUTHORS "AS IS" AND ANY EXPRESS
#  OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
#  WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
#  ARE DISCLAIMED.  IN NO EVENT SHALL THE AUTHORS BE LIABLE FOR ANY
#  DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL
#  DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE
#  GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
#  INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER
#  IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR
#  OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN
#  IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.

import sys

lines = sys.stdin.read().splitlines()
bytes = []

for line in lines:
    # >C:6300  ff ff ff ff  ff ff ff ff  ff ff ff ff  00 00 00 00   ������������@@@@

    line = line[9:60].split()
    for byte in line:
        bytes.append(byte)
bytes.append("")

BORDER = "+"

rows = []
row = []
border_length = 0
for i, byte in enumerate(bytes):
    if byte == "20":
        byte = "X"
    elif byte == "ff":
        byte = "+" 
    else:
        byte = byte[1:]

    if byte == BORDER:
        border_length += 1
    else:
        if border_length > 1:
            if not rows:
                # Top border
                for _ in range(border_length - 1):
                    row.append(BORDER)
                rows.append(row)
                row = [BORDER]
            else:
                # Bottom border
                rows.append(row)
                row = []
                for _ in range(border_length):
                    row.append(BORDER)
                rows.append(row)
                break
        elif border_length == 1:
            rows.append(row)
            row = [BORDER]
        row.append(byte)
        border_length = 0

if len(row) < 3:
    sys.exit()

row_length = max(len(row) for row in rows[:-1])
for row in rows:
    if len(row) < row_length:
        print(" ", end="")
    for byte in row:
        print(byte + " ", end="")
    print()
